---
standard: |
  <VirtualHost *:80>
    ServerName #{@domain}
    DocumentRoot /var/www#{@location}
    <Directory \"/var/www#{@location}\">
      Options FollowSymLinks
      AllowOverride All
      Order allow,deny
      Allow from all
    </Directory>
    #{@custom}
  </VirtualHost>

repos: |
  <VirtualHost *:80>
    ServerName #{@domain}
    DocumentRoot /home/rafael/repos#{@location}
    <Directory \"/home/rafael/repos#{@location}\">
      Options FollowSymLinks
      AllowOverride All
      Order allow,deny
      Allow from all
    </Directory>
    #{@custom}
  </VirtualHost>

alias: |
  <VirtualHost *:80>
    ServerName        #{@domain}
    ServerAlias       www.#{@domain}
    RedirectPermanent / http://#{@redirect}/
  </VirtualHost>

rails: |
  <VirtualHost *:80>
    ServerName    #{@domain}
    DocumentRoot  /srv/rails#{@location}#{@domain}/public
    <Directory \"/srv/rails#{@location}#{@domain}/public\">
      Options -Indexes FollowSymLinks
      AllowOverride All
      Order allow,deny
      Allow from all
    </Directory>
    RailsEnv      #{@railsenv}
    RewriteEngine on
    RewriteCond   %{HTTP_HOST} ^www\\.#{@domain.gsub('.','\.')}
    RewriteRule   (.*) http://#{@domain}$1 [R=301,L]
    #{@custom}
  </VirtualHost>

custom: |
  <VirtualHost *:80>
    ServerName #{@domain}
    #{@custom}
  </VirtualHost>
